---
title: "Oracle 19cã‚’Miracle Linuxã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹"
emoji: "ðŸ¦"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["oracle", "linux"]
published: false
---

# æ¦‚è¦

Windows10 Pro ç«¯æœ«ã®ãƒ­ãƒ¼ã‚«ãƒ«ã«ä»®æƒ³ç’°å¢ƒï¼ˆMiracle Linix 8.4ï¼‰ã‚’ä½œæˆã—ã€Oracle 19C ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

# OracleDtabase19c ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

[Oracle å…¬å¼ãƒšãƒ¼ã‚¸](https://www.oracle.com/jp/database/technologies/oracle-database-software-downloads.html)ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã€‚

-ã€€ç”»åƒï¼‘

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒçµ‚äº†ã—ãŸã‚‰ã€Linux ç’°å¢ƒã¸ FTP ãªã©ã§

# ç’°å¢ƒè¨­å®š

## ãƒ¦ãƒ¼ã‚¶ä½œæˆ

oracle ãƒ¦ãƒ¼ã‚¶ã‚’ä½œæˆã™ã‚‹ã€‚

```shell:bash
[root@dlp ~]# useradd oracle
[root@dlp ~]# passwd oracle
```

oracle ãƒ¦ãƒ¼ã‚¶ã§ sudo ã‚’å®Ÿè¡Œå¯èƒ½ã«ã™ã‚‹ã€‚

```shell:bash
[root@dlp ~]# visudo
```

`oracle ALL=(ALL) ALL`ã‚’æœ€çµ‚è¡Œã«è¿½åŠ ã™ã‚‹

## THP ã®è¨­å®š

`GRUB_CMDLINE_LINUX`ã®è¨­å®šå€¤ã«`transparent_hugepage=never` ã®è¨­å®šã‚’ grub ã«è¿½åŠ ã™ã‚‹

```shell:bash
[root@dlp ~]# vi /etc/default/grub
```

```diff:/etc/default/grub
- GRUB_CMDLINE_LINUX="crashkernel=auto resume=/dev/mapper/ml-swap rd.lvm.lv=ml/root rd.lvm.lv=ml/swap rhgb quiet"
+ GRUB_CMDLINE_LINUX="crashkernel=auto resume=/dev/mapper/ml-swap rd.lvm.lv=ml/root rd.lvm.lv=ml/swap rhgb quiet transparent_hugepage=never"
```

è¨­å®šã®æœ‰åŠ¹åŒ–

```shell:bash
[root@dlp ~]# grub2-mkconfig -o /boot/grub2/grub.cfg
Generating grub configuration file ...
Adding boot menu entry for EFI firmware configuration
done
```

å†èµ·å‹•ã™ã‚‹ã€‚

```shell:bash
[root@dlp ~]# reboot
```

## ãƒ›ã‚¹ãƒˆåè¨­å®š

```shell:bash
# ãƒ›ã‚¹ãƒˆåç¢ºèª
[root@dlp ~]# hostnamectl status
   Static hostname: localhost.localdomain
# ãƒ›ã‚¹ãƒˆåè¨­å®š
[root@dlp ~]# hostnamectl set-hostname dbsv
# ãƒ›ã‚¹ãƒˆåç¢ºèª
[root@dlp ~]# hostnamectl status
   Static hostname: dbsv
```

## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell:bash
[root@dlp ~]# dnf -y install bc binutils elfutils-libelf elfutils-libelf-devel fontconfig-devel glibc glibc-devel ksh libaio libaio-devel libgcc libgcc.i686 libstdc++ libstdc++-devel libXi libXtst libnsl make sysstat gcc gcc-c++ libXrender libXrender-devel libX11 libXau libxcb smartmontools java-1.8.0-openjdk
```

## ã‚«ãƒ¼ãƒãƒ«è¨­å®š

```shell:bash
# ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¨­å®šç”¨ã®å¤‰æ•°å®šç¾©
[root@dlp ~]#
  MEMTOTAL=$(free -b | sed -n '2p' | awk '{print $2}')
  SHMMAX=$(expr $MEMTOTAL / 2)
  SHMMNI=4096
  PAGESIZE=$(getconf PAGE_SIZE)
# ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¨­å®š
# catã‹ã‚‰æœ€å¾Œã®EOFã¾ã¤ã¾ã§ã¾ã¨ã‚ã¦ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘
  cat > /etc/sysctl.d/50-oracle.conf << EOF
fs.aio-max-nr = 1048576
fs.file-max = 6815744
kernel.shmmax = $SHMMAX
kernel.shmall = $(expr \( $SHMMAX / $PAGESIZE \) \* \( $SHMMNI / 16 \))
kernel.shmmni = $SHMMNI
kernel.sem = 250 32000 100 128
kernel.panic_on_oops = 1
net.ipv4.ip_local_port_range = 9000 65500
net.core.rmem_default = 262144
net.core.rmem_max = 4194304
net.core.wmem_default = 262144
net.core.wmem_max = 1048576
EOF
# ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
  sysctl -p /etc/sysctl.d/50-oracle.conf
```

## ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ

```shell:bash
#ã€€DBç”¨ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ
[root@dlp ~]#
  groupadd -g 54321 oinstall
  groupadd -g 54322 dba
  groupadd -g 54323 oper
  groupadd -g 54324 backupdba
  groupadd -g 54325 dgdba
  groupadd -g 54326 kmdba
  groupadd -g 54327 asmdba
  groupadd -g 54328 asmoper
  groupadd -g 54329 asmadmin
  groupadd -g 54330 racdba
```

# å‚è€ƒãƒšãƒ¼ã‚¸

- [Oracle Dtabase 19cï¼ˆCentOS8ï¼‰](https://daredemose.com/linux/oracle-dtabase-19c/)
- [[ Linux ] CentOS7 grub ã®ç·¨é›† (transparent hugepage ç„¡åŠ¹åŒ–è¨­å®šç·¨)](https://qiita.com/penguin_dream/items/2455a36a634567f4d86b)
- [CentOS 8 : Oracle Database 19c : ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://www.server-world.info/query?os=CentOS_8&p=oracle19c&f=2)
